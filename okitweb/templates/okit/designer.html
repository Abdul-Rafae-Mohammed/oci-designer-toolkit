{% extends "okit/base.html" %}

{% block navmenublock %}
    <ul class="nav-list">
        <li>
            <div>
                <span class="header-item">
                    <img id="header-item-icon" src="{{ url_for('static', filename='svg/compute.svg') }}">
                    <span>File</span>
                </span>
            </div>
        </li>
        <li><a id="file-new-menu-item" class="parent-item" href="{{ url_for('okit.designer') }}">New</a></li>
        <li><a id="file-load-menu-item" class="parent-item" href="#">Load</a></li>
        <li><a id="file-save-menu-item" class="parent-item" href="#">Save</a></li>
        <li>
            <div>
                <span class="header-item">
                    <img id="header-item-icon" src="{{ url_for('static', filename='svg/compute.svg') }}">
                    <span>Canvas</span>
                </span>
            </div>
        </li>
        <li><a id="file-redraw-menu-item" class="parent-item" href="#">Redraw</a></li>
        <li>
            <div>
                <span class="header-item">
                    <img id="header-item-icon" src="{{ url_for('static', filename='svg/compute.svg') }}">
                    <span>Export</span>
                </span>
            </div>
        </li>
        <li><a id="file-export-menu-item" class="parent-item" href="#">SVG</a></li>
        <li><a id="file-export-rm-menu-item" class="parent-item" href="#">Resource Manager</a></li>
        <li><a id="file-export-orca-menu-item" class="parent-item" href="#">Orca</a></li>
        <li>
            <div>
                <span class="header-item">
                    <img id="header-item-icon" src="{{ url_for('static', filename='svg/compute.svg') }}">
                    <span>Query</span>
                </span>
            </div>
        </li>
        <li><a id="query-oci-menu-item" class="parent-item" href="{{ url_for('okit.ociQuery', cloud='oci') }}" onclick="setBusyIcon()">OCI</a></li>
        <li>
            <div>
                <span class="header-item">
                    <img id="header-item-icon" src="{{ url_for('static', filename='svg/compute.svg') }}">
                    <span>Generate</span>
                </span>
            </div>
        </li>
        <li><a id="generate-terraform-menu-item" class="parent-item" href="#">Terraform</a></li>
        <li><a id="generate-ansible-menu-item" class="parent-item" href="#">Ansible</a></li>
    </ul>
{% endblock %}

{% block headscripts %}
    <script type="text/javascript" src="{{ url_for('static', filename='okit/js/okit_designer.js') }}"></script>
    {% if okit_query_request_json is defined %}
        <script type="text/javascript">
            console.log('Processing Query Javascript');
            okitQueryRequestJson = {{ okit_query_request_json | safe }};
            OKITJsonObj = {{ okit_query_response_json | safe }};
            queryVirtualCloudNetworkAjax();
            //displayOkitJson();
            //drawSVGforJson();
        </script>
    {% endif %}
    <script type="text/javascript" src="{{ url_for('static', filename='okit/js/okit_designer_drag_drop.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='okit/js/okit_designer_generation.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='okit/js/okit_designer_properties.js') }}"></script>
    {% for oci_asset_js in oci_assets_js %}
        <script type="text/javascript" src="{{ url_for('static', filename='okit/js/oci_assets/' + oci_asset_js) }}"></script>
    {% endfor %}
{% endblock %}

{% block headcss %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/designer.css') }}">
{% endblock %}

{% block mainblock %}
    <div id="main-panel" class="main-panel flex-column">
        <div id="icon-palette" class="icons-palette">
            {% for palette_icon in palette_icons %}
            <img class="palette-icon" src="{{ url_for('static', filename='okit/palette/' + palette_icon['svg']) }}" title="{{ palette_icon['title'] }}" draggable="true">
            {% endfor %}
        </div>
        <div id="web-designer-panel" class="web-designer-panel flex-row">
            <div id="canvas-wrapper" class="designer-left-column canvas-wrapper">
                <svg id="okitcanvas" data-type="Compartment" class="svg-canvas"></svg>
            </div>
            <div id="asset-properties" class="designer-right-column properties-wrapper">
                <div id="properties-and-source" class="properties-source-wrapper">
                    <div id="properties-toggle" class="slide-bar">
                        <!--button id="show-code">Source</button-->
                        <input type="radio" name="source-properties" value="source">Source
                        <input type="radio" name="source-properties" value="properties" checked="checked">Properties
                    </div>
                    <div id="properties" class="property-editor"></div>
                    <div id="json-display" class="source-code hidden">
                        <pre id="okitjson" readonly="readonly"></pre>
                    </div>
                </div>
            </div>
        </div>
        <div id="menubar" class="menu-bar">
            <input type="file" id="files" class="file-button toolbar-button" name="file[]">
        </div>
    </div>
    <div id="context-menu" class="hidden context-menu"><button id="right-click-delete">Delete</button></div>
{% endblock %}

{% block footerblock %}
{% endblock %}

{% block footerscripts %}
{% endblock %}

