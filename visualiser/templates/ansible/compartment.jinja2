
# ------ Create Compartment
    - name: Create Compartment {{ output_name }}
      oci_compartment:
        state: "present"
        # Required
        parent_compartment_id: "{{ compartment_id }}"
        name: "{{ display_name }}"
        description: "{{ description }}"
        # Optional
{% if defined_tags is defined %}
        defined_tags: "{{ defined_tags }}"
{% endif %}
{% if freeform_tags is defined %}
        freeform_tags: "{{ freeform_tags }}"
{% endif %}
      register: {{ resource_name }}
      when

    - set_fact:
        {{ resource_name }}_id: "{{ '{{' }} {{ resource_name }}.compartment.id {{ '}}' }}"
        {{ resource_name }}_ocid: "{{ '{{' }} {{ resource_name }}.compartment.id {{ '}}' }}"


